Here‚Äôs a **design document (MVP version)** for your upgraded Neural Network Visualizer ‚Äî focused specifically on **frontend/UI excellence**, **Next.js architecture**, and **interactive DNN visualization** for classification and regression tasks.

---

# üß† Neural Network Visualizer ‚Äî MVP Design Document

**Version:** 1.0
**Owner:** Tanvi Sharma
**Tech Stack:** Next.js 15 (App Router), shadcn/ui, TensorFlow.js, React Flow, PixiJS, Framer Motion, Zustand

---

## 1. üéØ Project Overview

### **Goal**

Build a **modern, visually rich, and reliable neural network visualizer** that allows users to:

- Upload datasets (CSV)
- Configure simple DNN architectures (MLP)
- Visualize and **animate forward & backward passes**
- Track **loss/accuracy metrics**
- Use an **intuitive, modern UI** optimized for clarity, stability, and ease of exploration

This version focuses **only** on frontend and visualization polish ‚Äî not on large-scale data or model persistence.

---

## 2. üß© Core Features (MVP Scope)

### **A. Model Visualization**

- Interactive, animated view of DNN layers and connections
- Distinct color schemes for:
  - **Forward pass activations** (pulses, intensity)
  - **Backprop gradients** (reverse pulses, color-coded magnitude)

- Toggle between **classification** (softmax output) and **regression** (single linear output)
- Adjustable number of layers and neurons

### **B. Dataset Handling (basic)**

- CSV upload using PapaParse
- Auto-detection of target column
- Classification: one-hot encoding; Regression: normalization
- Simple preprocessing summary shown in UI

### **C. Training & Simulation**

- Train a TensorFlow.js MLP model
- Animate activations per epoch
- Display real-time:
  - Loss curve (Recharts)
  - Accuracy or R¬≤ (depending on task)

- Pause/Resume training
- Adjustable hyperparameters (learning rate, epochs)

### **D. UI & UX**

- Built on **Next.js + shadcn/ui**
- Smooth **Framer Motion** transitions
- Fully **responsive design**
- Built-in light/dark mode
- Toasts for errors, progress, and saves
- Docked layout: sidebar, canvas, right info panel

---

## 3. üß± Architectural Overview

### **Frontend-only Architecture**

```
Next.js App Router
‚îÇ
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx (Shell + ThemeProvider)
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx (Main visualizer entry)
‚îÇ   ‚îî‚îÄ‚îÄ api/ (placeholder for future backends)
‚îÇ
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ Sidebar/            ‚Üê dataset + model config
‚îÇ   ‚îú‚îÄ‚îÄ Canvas/             ‚Üê network visualization (PixiJS)
‚îÇ   ‚îú‚îÄ‚îÄ Charts/             ‚Üê Recharts for metrics
‚îÇ   ‚îú‚îÄ‚îÄ Controls/           ‚Üê start/pause/reset buttons
‚îÇ   ‚îú‚îÄ‚îÄ Panels/             ‚Üê logs, metrics, console
‚îÇ
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ tf/modelBuilder.ts  ‚Üê TensorFlow.js model generation
‚îÇ   ‚îú‚îÄ‚îÄ tf/trainer.ts       ‚Üê training loop, progress events
‚îÇ   ‚îú‚îÄ‚îÄ data/parser.ts      ‚Üê CSV parsing, type inference
‚îÇ
‚îú‚îÄ‚îÄ store/
‚îÇ   ‚îú‚îÄ‚îÄ state.ts            ‚Üê Zustand global state
‚îÇ   ‚îú‚îÄ‚îÄ machine.ts          ‚Üê XState training flow
‚îÇ
‚îú‚îÄ‚îÄ workers/
‚îÇ   ‚îú‚îÄ‚îÄ train.worker.ts     ‚Üê offloads training from UI
‚îÇ
‚îî‚îÄ‚îÄ styles/
    ‚îú‚îÄ‚îÄ globals.css
    ‚îú‚îÄ‚îÄ shadcn.css
```

---

## 4. ‚öôÔ∏è Technology Breakdown

| Area                   | Library                     | Reason                                                 |
| ---------------------- | --------------------------- | ------------------------------------------------------ |
| UI Framework           | **Next.js 15 (App Router)** | Server Components, client modularity, SEO, performance |
| Component System       | **shadcn/ui**               | Pre-styled, composable, accessible React components    |
| State Management       | **Zustand**                 | Lightweight, reactive, ideal for simulation state      |
| Animation              | **PixiJS + @pixi/react**    | High-performance WebGL rendering for large networks    |
| Graph Editing (future) | **React Flow**              | Optional for editable layer layout                     |
| Motion Transitions     | **Framer Motion**           | For UI panels, tooltips, popups                        |
| Charts                 | **Recharts**                | Real-time loss/metric plotting                         |
| Model Training         | **TensorFlow.js**           | On-device model building and training                  |
| Data Parsing           | **PapaParse**               | Client-side CSV reading                                |

---

## 5. üé® UI/UX Design Principles

### **Design Philosophy**

> ‚ÄúScience made visual, interactivity made intuitive.‚Äù
> Goal: Make complex neural processes feel alive, approachable, and easy to follow.

### **Layout**

| Region                 | Description                                                |
| ---------------------- | ---------------------------------------------------------- |
| **Left Sidebar**       | Dataset upload, preprocessing summary, layer control       |
| **Center Canvas**      | Animated neural network (PixiJS)                           |
| **Right Panel (Tabs)** | Loss chart, metrics, training logs                         |
| **Top Toolbar**        | Task selection (classification/regression), backend, theme |
| **Bottom Status Bar**  | Epoch, loss, accuracy, FPS indicators                      |

### **Visual Language**

- **Colors:** Gradient-coded by magnitude (blues for weights, reds for activations)
- **Neurons:** Circular nodes with dynamic glow (pulse = activation intensity)
- **Connections:** Thin Bezier lines; animated pulse for signal flow
- **Font:** Inter / JetBrains Mono (for clarity + tech aesthetic)

---

## 6. üß† User Flow

### **Step 1 ‚Äî Upload Dataset**

User uploads CSV ‚Üí auto-detects features/target ‚Üí summary rendered in Sidebar.

### **Step 2 ‚Äî Configure Network**

Adjust:

- Hidden layers (slider)
- Neurons per layer
- Activation function
- Task type (classification/regression)

### **Step 3 ‚Äî Train & Visualize**

- Click ‚ÄúStart Training‚Äù
- Canvas animates forward pass per batch
- Recharts update loss/accuracy
- Pause/Resume or Reset training anytime

### **Step 4 ‚Äî Analyze Metrics**

- Right panel ‚Üí Charts tab for visual metrics
- Logs tab for training events/errors

---

## 7. üîÅ System States (XState-based)

| State           | Description                 |
| --------------- | --------------------------- |
| `idle`          | No model loaded             |
| `preprocessing` | Dataset being parsed        |
| `compiled`      | Model ready to train        |
| `training`      | Training loop running       |
| `paused`        | Training halted             |
| `completed`     | Training done               |
| `error`         | Exception or invalid config |

---

## 8. üöÄ MVP Milestones

| Phase       | Focus                 | Deliverables                                          |
| ----------- | --------------------- | ----------------------------------------------------- |
| **Phase 1** | UI Layout & State     | Layout (sidebar, canvas, panels), Zustand store       |
| **Phase 2** | Data + Model Pipeline | CSV upload, TF.js model build, compile                |
| **Phase 3** | Visualization Layer   | PixiJS neurons, connections, pulses                   |
| **Phase 4** | Animation + Charts    | Forward/backprop animation, live loss plot            |
| **Phase 5** | UX Polish             | shadcn/ui integration, toasts, transitions            |
| **Phase 6** | Testing & Stability   | Worker thread for training, FPS + memory optimization |

---

## 9. üìà Success Metrics

- <100 ms latency between training update and visualization frame
- Maintain ‚â• 50 FPS on 2‚Äì3 hidden layers, 50 neurons each
- Error-free pause/resume/reset transitions
- Mobile-friendly sidebar collapsing
- Visually smooth forward/backward pulse animation

---

## 10. üß© Future Extensions (Post-MVP)

- Drag-and-drop architecture editor (React Flow)
- Multiple network visual comparisons
- Attention and CNN layer visualization
- Explainability overlays (gradient visualization, SHAP)
- Model export/import
- Server sync and sharing

---

Would you like me to include a **UI wireframe mockup (layout + color scheme + interactions)** next ‚Äî showing how each region (sidebar, canvas, right panel) will look in the Next.js + shadcn/ui system?
It will make this design doc visually complete and implementation-ready.
